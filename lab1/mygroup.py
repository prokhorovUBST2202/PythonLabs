# В этом файле хранится список студентов и простые функции
# для вывода и фильтрации студентов по среднему баллу.

# Переменная groupmates содержит список словарей.
# Список (list) — это упорядоченная коллекция элементов.
# Словарь (dict) хранит данные в виде "ключ: значение".
groupmates = [
    {
        "name": "Александр",
        "surname": "Иванов",
        "exams": ["Информатика", "ЭЭиС", "Web"],   # exams — список строк
        "marks": [4, 3, 5]                         # marks — список оценок (целых чисел)
    },
    {
        "name": "Иван",
        "surname": "Петров",
        "exams": ["История", "АиГ", "КТП"],
        "marks": [4, 4, 4]
    },
    {
        "name": "Кирилл",
        "surname": "Смирнов",
        "exams": ["Философия", "ИС", "КТП"],
        "marks": [5, 5, 5]
    },
    {
        "name": "Мария",
        "surname": "Соколова",
        "exams": ["Высшая математика", "Физика", "ОП"],
        "marks": [3, 4, 4]
    },
    {
        "name": "Ольга",
        "surname": "Кузнецова",
        "exams": ["БД", "ОС", "ТеорВер"],
        "marks": [5, 4, 5]
    }
]

def print_students(students):
    """
    Функция выводит таблицу со студентами.
    Параметр students — это список (list) словарей.
    """
    # Вывод "шапки" таблицы с выравниванием текста по ширине с помощью .ljust()
    print("Имя".ljust(15), "Фамилия".ljust(12), "Экзамены".ljust(45), "Оценки".ljust(20))

    # Цикл for перебирает элементы списка (каждый student — словарь)
    for student in students:
        # str() — преобразует данные в строку, чтобы их можно было красиво вывести
        exams_str = str(student["exams"])
        marks_str = str(student["marks"])

        # Вывод строки таблицы. ljust(n) — выравнивает строку, добавляя пробелы до длины n.
        print(
            student["name"].ljust(15),
            student["surname"].ljust(12),
            exams_str.ljust(45),
            marks_str.ljust(20)
        )

def filter_by_average(students, min_avg):
    """
    Функция фильтрует студентов по среднему баллу.
    min_avg — минимальное значение среднего балла.
    """
    result = []  # Пустой список, сюда будем добавлять подходящих студентов

    for student in students:
        # sum(list) — возвращает сумму элементов списка.
        total = sum(student["marks"])

        # len(list) — возвращает количество элементов в списке.
        count = len(student["marks"])

        # Обычное деление для вычисления среднего балла.
        average = total / count

        # Если среднее значение выше указанного порога, добавляем студента в результат.
        if average > min_avg:
            result.append(student)

    return result  # Возвращаем новый список

# Точка входа программы
if __name__ == "__main__":
    print("Список всех студентов:\n")
    print_students(groupmates)

    # input() — считывает данные с клавиатуры как строку.
    value_str = input("\nВведите минимальный средний балл (например, 4.0): ")

    # float() — преобразует строку в число с точкой (вещественное число).
    value = float(value_str)

    # Вызываем функцию фильтрации и получаем список подходящих студентов.
    filtered_students = filter_by_average(groupmates, value)

    print("\nСтуденты, чей средний балл выше указанного порога:\n")
    print_students(filtered_students)
